--- ./src/main/java/org/jboss/shrinkwrap/impl/nio/file/ShrinkWrapFileSystemProvider.java	2019-06-19 13:41:14.782685589 +0800
+++ patch.txt	2019-06-19 13:46:44.243153764 +0800
@@ -146,6 +146,10 @@
                     + ENV_KEY_ARCHIVE + ": " + archiveArg);
             }
         }
+        // If archive could not be found in the environment, IllegalArgumentException
+        if (archive == null) {
+            throw new IllegalArgumentException("archive must be specified in the environment under key " + ENV_KEY_ARCHIVE);
+        }
 
         // Lock for compound operations on createdFileSystems
         createNewFsLock.lock();
@@ -635,4 +639,4 @@
         }
     }
 
-}
+}
\ No newline at end of file
